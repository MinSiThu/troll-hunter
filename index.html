<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Troll Hunter App</title>
</head>

<body>
    <!--
    <div id="app">
        <template th-component="HelloWorld"></template>
        <template th-component="HelloWorld"></template>
        <template th-component="HelloWorld"></template>
        <p> Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam, repudiandae commodi totam officia illo, reprehenderit magni laboriosam est aspernatur autem, culpa ducimus! Sed soluta nemo maiores quae at facere explicabo? </p>
        <h3>Jobs</h3>
        <ul loop="jobs" template="jobCard"></ul>
        <button on="click mouseover" action="show changeBg">Show</button>
        <button on="click" action="add">Add</button>
        <button on="click" action="subtract">Subtract</button>
        <div var="counter" if="showCounter">Counter</div>
        <template th-component="ColorTextClicker"></template>
    </div>    
    -->
    <template th-component="ToDoList"></template>
    <script src="/index.js"></script>
    <script>
        /**let state = {
            name:"Troll Hunter App",
            counter:0,
            jobs:["programmer","developer","project manager","software engineer"],
            showCounter:true,
            bgColor:"red",
        }

        let actions = {
            add(){
                state.counter++;
                state.updateState("counter",state.counter);
            },
            subtract(){
                state.counter--;
                state.updateState("counter",state.counter);
            },
            show(){
                state.showCounter = !state.showCounter;
                state.updateState("showCounter",state.showCounter)
            },
            changeBg(){
                if(state.bgColor == 'red'){
                    state.bgColor = 'green';
                }else{
                    state.bgColor = "red"
                }
                state.updateState("bgColor",state.bgColor);
                document.body.style.backgroundColor = state.bgColor
            }
        }

        let templates = {
            jobCard:function(value,index){
                return `
                    <li>${value}</li>
                `
            },
        }

        let app = new TrollHunter(state);
        app.setActions(actions);
        app.setTemplates(templates);
        state.updateState("jobs",["programmer","developer","project manager",])
        app.init();

        TrollHunter.createComponent(
            {
                name:"HelloWorld",
                parentEl:"nav",
                data:{
                    message:"Hello World"
                },
                template:function(state){
                    return `
                        <h1>${state.message}</h1>
                    `
                },
            }
        )

        TrollHunter.createComponent(
            {
                name:"ColorTextClicker",
                parentEl:"div",
                data:{
                    counter:true
                },
                template:function(state){
                    return `
                        <button on="click" action="counter">Component Button</button>
                        <p>Counter State <span var="counter"></span> </p>
                    `
                },
                actions:{
                    counter(){
                        this.data.counter = !this.data.counter
                        this.data.updateState("counter",this.data.counter)
                    }
                }
            }
        )
        TrollHunter.start()
    **/</script>

    <script>
    TrollHunter.createComponent({
        name:"ToDoItem",
        parentEl:"li",
        data:{
            text:""
        },
        template(data){
            return `
                ${data.text}
            `
        }
    })

    TrollHunter.createComponent({
        name:"ToDoList",
        parentEl:"ul",
        data:{
            list:['java',"c#","js","lua"]
        },
        template(data){
            return `
                ${data.list.map(item=>{
                    return `<template th-component="ToDoItem" text="${item}"></template>`
                }).join("")}
            `
        }
    })

    TrollHunter.start();
    </script>
</body>
</html>